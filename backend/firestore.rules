rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Users collection - allow read/write for authenticated users
    match /users/{userId} {
      allow read, write: if true;
    }
    
    // Weather history collection - allow read for all, write for server only
    match /weather_history/{document=**} {
      allow read: if true;
      allow write: if true;
    }
    
    // Monitored places collection
    match /monitored_places/{placeId} {
      allow read: if true;
      allow write: if true;
    }
    
    // Alerts collection
    match /alerts/{alertId} {
      allow read: if true;
      allow write: if true;
    }
    
    // Default: allow all (for development - restrict in production)
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
